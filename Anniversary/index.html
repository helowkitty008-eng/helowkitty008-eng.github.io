<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For You — 3rd Anniversary</title>
<meta name="description" content="A quiet, secret countdown with sweet daily messages. Minimal red & white theme with smooth animations." />
<style>
/* ----- Base & layout ----- */
:root{
  --red:#c9142a; /* primary red */
  --light:#fff;
  --muted:#a33;
  --glass: rgba(255,255,255,0.85);
  --card-bg: rgba(255,255,255,0.96);
  --shadow: 0 8px 30px rgba(201,20,42,0.12);
  --maxw:720px;
  --radius:18px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
body{
  display:flex;align-items:center;justify-content:center;
  background:linear-gradient(180deg,#fff 0%, #fff 50%, #ffeef0 100%);
  color:var(--red);-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;
  padding:24px;
}
.wrap{position:relative;width:100%;max-width:var(--maxw);}

/* ----- Card ----- */
.card{
  position:relative;background:var(--card-bg);border-radius:var(--radius);
  padding:30px 28px;box-shadow:var(--shadow);overflow:hidden;
  border:1px solid rgba(201,20,42,0.08)
}
.top{display:flex;align-items:center;gap:12px}
.badge{
  width:58px;height:58px;border-radius:12px;
  background:linear-gradient(135deg,var(--red),#f05b6a);
  display:flex;align-items:center;justify-content:center;
  color:var(--light);font-weight:700;font-size:28px;
  box-shadow:0 6px 18px rgba(201,20,42,0.12)
}
h1{margin:0;font-size:20px;line-height:1;color:var(--red)}
.sub{margin-top:6px;color:var(--muted);font-size:13px}

/* ----- Countdown segments ----- */
.countdown{display:flex;gap:12px;justify-content:center;margin:22px 0}
.seg{
  flex:1;min-width:62px;background:rgba(201,20,42,0.04);padding:12px;border-radius:12px;
  backdrop-filter:blur(2px);border:1px solid rgba(201,20,42,0.02)
}
.num{font-size:28px;font-weight:800;line-height:1;color:var(--red);text-align:center}
.lbl{font-size:11px;text-align:center;color:var(--muted);margin-top:8px}

/* ----- Message box ----- */
.message{
  margin-top:14px;padding:14px;border-radius:12px;
  background:linear-gradient(180deg, rgba(201,20,42,0.03), rgba(201,20,42,0.02));
  font-size:16px;color:var(--red);text-align:center;min-height:52px;
  display:flex;align-items:center;justify-content:center
}
.muted{font-size:12px;color:#9a2b3a;margin-top:10px;text-align:center}

/* ----- Footer secret hint ----- */
.footer{margin-top:14px;font-size:12px;color:var(--muted);text-align:center}

/* ----- Floating hearts canvas ----- */
#bgcanvas{
  position:absolute;left:0;top:0;width:100%;height:100%;
  pointer-events:none;z-index:0;border-radius:var(--radius)
}
.card>*{position:relative;z-index:1}

/* ----- subtle pulse animation ----- */
.badge{animation:float 4s ease-in-out infinite}
@keyframes float{
  0%{transform:translateY(0)}
  50%{transform:translateY(-6px)}
  100%{transform:translateY(0)}
}

/* ----- celebratory confetti ----- */
.confetti-piece{
  position:absolute;width:8px;height:12px;border-radius:2px;opacity:0.95
}

/* ----- responsive ----- */
@media (max-width:520px){
  .countdown{gap:8px}
  .num{font-size:24px}
  .badge{width:48px;height:48px;font-size:22px}
}

/* ----- small secret button ----- */
.secret{
  position:absolute;right:12px;top:12px;
  background:transparent;border:none;color:rgba(0,0,0,0.06);
  font-size:12px;padding:6px;cursor:pointer;border-radius:8px
}
</style>
</head>
<body>
<div class="wrap">
  <div class="card" role="region" aria-label="Anniversary countdown">
    <canvas id="bgcanvas"></canvas>
    <button id="secretBtn" class="secret" aria-hidden="true">•</button>
    <div class="top">
      <div class="badge">❤</div>
      <div>
        <h1>For my favourite person</h1>
        <div class="sub">Countdown to our special day</div>
      </div>
    </div>

    <div class="countdown" aria-live="polite">
      <div class="seg"><div id="days" class="num">--</div><div class="lbl">Days</div></div>
      <div class="seg"><div id="hours" class="num">--</div><div class="lbl">Hours</div></div>
      <div class="seg"><div id="minutes" class="num">--</div><div class="lbl">Minutes</div></div>
      <div class="seg"><div id="seconds" class="num">--</div><div class="lbl">Seconds</div></div>
    </div>

    <div id="message" class="message">loading...</div>
    <div id="muted" class="muted"></div>

  </div>
</div>

<script>
/* -------------------- Config -------------------- */
const TARGET_UTC = Date.UTC(2026,2,11,18,30,0); // March 12 2026 00:00 SL = 2026-03-11 18:30:00 UTC
const MS_DAY = 24*60*60*1000;

const MESSAGES = [
  "Three years of small moments and big smiles.",
  "You make my worst days better.",
  "Even in silence, you are my peace.",
  "I still remember the first time you said my name.",
  "You are my favourite hello and hardest goodbye.",
  "I keep your messages on repeat in my head.",
  "Missing you is part of loving you.",
  "Thank you for staying, even when it's hard.",
  "I like the way you laugh in my head.",
  "You taught me how to wait with hope.",
  "Small talks with you feel like home.",
  "I promise to try and be better for you.",
  "You are braver than you know.",
  "I love that we keep going, quietly and proudly.",
  "Your words are my favourite weight.",
  "Some days I just replay your voice.",
  "I carry our memories like little lights.",
  "I wish I could teleport for one more hug.",
  "You are my calm in the noise.",
  "I look forward to our small plans more than anything.",
  "Thank you for trusting me with your heart.",
  "I keep writing new reasons to smile because of you.",
  "You make ordinary days beautiful.",
  "I like how we understand each other without saying much.",
  "You are worth every quiet fight and every wait.",
  "I love you more than yesterday, less than tomorrow.",
  "I keep your name safe in my notes.",
  "When I think of home, I think of you.",
  "We made it this far — that means a lot to me.",
  "Sooner or later, we'll laugh about how secret this all was."
];

/* -------------------- Time helpers (Sri Lanka aware) -------------------- */
function sriLankaNow(){
  const now = new Date();
  const utc = now.getTime() + (now.getTimezoneOffset()*60000);
  const slOffset = 5.5 * 60 * 60000;
  return new Date(utc + slOffset);
}

/* -------------------- Countdown logic -------------------- */
function updateCountdown(){
  const nowSL = sriLankaNow();
  const nowUTCms = nowSL.getTime() - (5.5 * 60 * 60000);
  const diff = TARGET_UTC - nowUTCms;

  if(diff <= 0){
    document.getElementById('days').textContent = '0';
    document.getElementById('hours').textContent = '00';
    document.getElementById('minutes').textContent = '00';
    document.getElementById('seconds').textContent = '00';
    document.getElementById('message').textContent = "Happy 3rd anniversary — I love you.";
    triggerConfetti();
    return;
  }

  const days = Math.floor(diff / MS_DAY);
  const hours = Math.floor((diff % MS_DAY) / (1000*60*60));
  const minutes = Math.floor((diff % (1000*60*60)) / (1000*60));
  const seconds = Math.floor((diff % (1000*60)) / 1000);

  document.getElementById('days').textContent = String(days);
  document.getElementById('hours').textContent = String(hours).padStart(2,'0');
  document.getElementById('minutes').textContent = String(minutes).padStart(2,'0');
  document.getElementById('seconds').textContent = String(seconds).padStart(2,'0');

  // message index changes at midnight SL time
  const base = new Date(2025,0,1); // Jan 1, 2025 reference
  const daysSinceBase = Math.floor((sriLankaNow() - base)/MS_DAY);
  const idx = ((daysSinceBase % MESSAGES.length)+MESSAGES.length)%MESSAGES.length;
  document.getElementById('message').textContent = MESSAGES[idx];
}

updateCountdown();
setInterval(updateCountdown,1000);

/* -------------------- Canvas particle hearts (background) -------------------- */
const canvas = document.getElementById('bgcanvas');
const ctx = canvas.getContext('2d');
let particles = [];
let w,h;

function resize(){
  w = canvas.width = canvas.clientWidth = canvas.parentElement.clientWidth;
  h = canvas.height = canvas.clientHeight = canvas.parentElement.clientHeight;
}
window.addEventListener('resize', resize);
resize();

function rand(min,max){return Math.random()*(max-min)+min}

class Heart{
  constructor(){
    this.x = rand(0,w);
    this.y = rand(h*0.2,h);
    this.vx = rand(-0.3,0.3);
    this.vy = rand(-0.2,-1.2);
    this.size = rand(6,18);
    this.opacity = rand(0.25,0.9);
    this.angle = rand(0,Math.PI*2);
    this.spin = rand(-0.04,0.04);
    this.hue = rand(340,360);
  }
  draw(){
    ctx.save();
    ctx.translate(this.x,this.y);
    ctx.rotate(this.angle);
    ctx.globalAlpha = this.opacity;

    // draw simple heart using two circles and triangle
    const s = this.size/6;
    ctx.fillStyle = 'rgba(201,20,42,'+this.opacity+')';
    ctx.beginPath();
    ctx.moveTo(0, -5*s);
    ctx.bezierCurveTo(0,-12*s,-10*s,-14*s,-14*s,-8*s);
    ctx.bezierCurveTo(-20*s,-2*s,-6*s,6*s,0,12*s);
    ctx.bezierCurveTo(6*s,6*s,20*s,-2*s,14*s,-8*s);
    ctx.bezierCurveTo(10*s,-14*s,0,-12*s,0,-5*s);
    ctx.fill();

    ctx.restore();
  }
  step(){
    this.x += this.vx;
    this.y += this.vy;
    this.angle += this.spin;
    this.opacity *= 0.9999;

    if(this.y < -30 || this.opacity < 0.02 || this.x < -50 || this.x > w+50){
      // respawn near bottom
      this.x = rand(0,w);
      this.y = rand(h*0.8,h+40);
      this.vy = rand(-0.6,-1.6);
      this.opacity = rand(0.2,0.9);
      this.size = rand(6,18);
    }
  }
}

function initParticles(){
  particles = [];
  const count = Math.max(18, Math.floor(w/50));
  for(let i=0;i<count;i++) particles.push(new Heart());
}
initParticles();

let last = 0;
function loop(ts){
  last = ts;
  ctx.clearRect(0,0,w,h);

  // subtle gradient overlay
  ctx.fillStyle = 'rgba(255,240,242,0.35)';
  ctx.fillRect(0,0,w,h);

  for(let p of particles){p.step(); p.draw();}
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);

/* -------------------- Confetti on celebration (simple pieces) -------------------- */
function triggerConfetti(){
  const parent = document.querySelector('.card');
  const colors = ['#ff5b6a','#ffb3bf','#c9142a','#ffd6da'];

  for(let i=0;i<40;i++){
    const el = document.createElement('div');
    el.className='confetti-piece';
    el.style.left = (50 + rand(-40,40))+'%';
    el.style.top = '10%';
    el.style.background = colors[Math.floor(rand(0,colors.length))];
    el.style.transform = `translateY(0) rotate(${rand(0,360)}deg)`;
    parent.appendChild(el);

    const duration = rand(1200,2400);
    const dx = rand(-120,120);
    const dy = rand(240,480);

    el.animate([
      {transform:`translate(0,0) rotate(${rand(0,360)}deg)`,opacity:1},
      {transform:`translate(${dx}px,${dy}px) rotate(${rand(180,720)}deg)`,opacity:0}
    ],{
      duration,
      direction:'normal',
      easing:'cubic-bezier(.2,.7,0,1)'
    });

    setTimeout(()=>el.remove(), duration+50);
  }
}

/* -------------------- Tiny secret: hide footer when ?hide param present and secret button to toggle messages */
if(location.search.includes('hide')){
  document.querySelector('.footer').style.display='none';
  document.getElementById('muted').style.display='none';
}

// secret small button toggles between message sets (for inside jokes)
const secretBtn = document.getElementById('secretBtn');
let alt=false;
secretBtn.addEventListener('click',()=>{
  alt = !alt;
  const msgEl = document.getElementById('message');

  if(alt){
    msgEl.textContent = 'Psst... remember our first chat? ❤';
  } else {
    // refresh to normal daily message
    updateCountdown();
  }
});

/* -------------------- Hosting notes in console (for you) -------------------- */
console.log('Page ready — host this file as a static html on GitHub Pages or Netlify Drop. Add ?hide to URL for extra secrecy.');
</script>

</body>
</html>
